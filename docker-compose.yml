services:
  postgres:
    image: postgres:16-alpine
    container_name: jarvis_postgres
    ports:
      - "5432:5432"  # (외부포트:내부포트) 문 뚫기
    environment:
      POSTGRES_DB: jarvis_db
      POSTGRES_USER: ${DB_USERNAME:-jarvis_user}      # .env에서 가져옴 (없으면 기본값)
      POSTGRES_PASSWORD: ${DB_PASSWORD:-1234}         # .env에서 가져옴 (없으면 기본값)
    volumes:
      - ./postgres_data:/var/lib/postgresql/data      # 방이 폭파돼도 데이터는 내 컴퓨터에 저장
    restart: always